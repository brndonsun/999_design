import { Product } from '@/types';

// Multi-retailer furniture database
// In production, this would come from affiliate APIs or a maintained database
export const sampleProducts: Product[] = [
  // ============ IKEA PRODUCTS ============
  // BEDROOM
  {
    id: 'ikea-malm-bed',
    retailer: 'ikea',
    externalId: '890.024.32',
    name: 'MALM Bed Frame, High',
    category: 'bed',
    price: 279,
    currency: 'USD',
    imageUrl: '/furniture/bed-white.svg',
    productUrl: 'https://www.ikea.com/us/en/p/malm-bed-frame-high-white-luroey-s89002432/',
    width: 66,
    depth: 83,
    height: 15,
    styles: ['contemporary', 'minimalist'],
    roomTypes: ['bedroom'],
    color: '#f5f5f5',
  },
  {
    id: 'ikea-hemnes-bed',
    retailer: 'ikea',
    externalId: '092.108.05',
    name: 'HEMNES Bed Frame',
    category: 'bed',
    price: 349,
    currency: 'USD',
    imageUrl: '/furniture/bed-wood.svg',
    productUrl: 'https://www.ikea.com/us/en/p/hemnes-bed-frame-white-stain-luroey-s09210805/',
    width: 67,
    depth: 84,
    height: 26,
    styles: ['traditional', 'contemporary'],
    roomTypes: ['bedroom'],
    color: '#d4a373',
  },
  {
    id: 'ikea-hemnes-nightstand',
    retailer: 'ikea',
    externalId: '502.145.49',
    name: 'HEMNES Nightstand',
    category: 'nightstand',
    price: 129,
    currency: 'USD',
    imageUrl: '/furniture/nightstand.svg',
    productUrl: 'https://www.ikea.com/us/en/p/hemnes-nightstand-white-stain-50214549/',
    width: 18,
    depth: 14,
    height: 27,
    styles: ['traditional', 'contemporary'],
    roomTypes: ['bedroom'],
    color: '#ffffff',
  },
  {
    id: 'ikea-malm-dresser',
    retailer: 'ikea',
    externalId: '002.392.38',
    name: 'MALM 6-Drawer Dresser',
    category: 'dresser',
    price: 249,
    currency: 'USD',
    imageUrl: '/furniture/dresser.svg',
    productUrl: 'https://www.ikea.com/us/en/p/malm-6-drawer-dresser-white-00239238/',
    width: 63,
    depth: 19,
    height: 31,
    styles: ['contemporary', 'minimalist'],
    roomTypes: ['bedroom'],
    color: '#ffffff',
  },
  {
    id: 'ikea-kallax-shelf',
    retailer: 'ikea',
    externalId: '802.758.85',
    name: 'KALLAX Shelf Unit',
    category: 'bookshelf',
    price: 79,
    currency: 'USD',
    imageUrl: '/furniture/shelf.svg',
    productUrl: 'https://www.ikea.com/us/en/p/kallax-shelf-unit-white-80275885/',
    width: 57,
    depth: 15,
    height: 57,
    styles: ['modern', 'minimalist', 'contemporary'],
    roomTypes: ['office', 'living_room', 'bedroom'],
    color: '#ffffff',
  },

  // LIVING ROOM
  {
    id: 'ikea-kivik-sofa',
    retailer: 'ikea',
    externalId: '094.405.89',
    name: 'KIVIK Sofa',
    category: 'sofa',
    price: 799,
    currency: 'USD',
    imageUrl: '/furniture/sofa-gray.svg',
    productUrl: 'https://www.ikea.com/us/en/p/kivik-sofa-tibbleby-beige-s09440589/',
    width: 90,
    depth: 37,
    height: 32,
    styles: ['contemporary', 'modern'],
    roomTypes: ['living_room', 'den'],
    color: '#6b7280',
  },
  {
    id: 'ikea-lack-coffee',
    retailer: 'ikea',
    externalId: '704.499.97',
    name: 'LACK Coffee Table',
    category: 'table',
    price: 29,
    currency: 'USD',
    imageUrl: '/furniture/coffee-table.svg',
    productUrl: 'https://www.ikea.com/us/en/p/lack-coffee-table-white-70449997/',
    width: 35,
    depth: 22,
    height: 18,
    styles: ['minimalist', 'modern'],
    roomTypes: ['living_room', 'den'],
    color: '#ffffff',
  },
  {
    id: 'ikea-besta-tv',
    retailer: 'ikea',
    externalId: '702.432.97',
    name: 'BESTA TV Unit',
    category: 'storage',
    price: 150,
    currency: 'USD',
    imageUrl: '/furniture/tv-stand.svg',
    productUrl: 'https://www.ikea.com/us/en/p/besta-tv-unit-white-70243297/',
    width: 47,
    depth: 16,
    height: 15,
    styles: ['contemporary', 'minimalist'],
    roomTypes: ['living_room', 'den'],
    color: '#ffffff',
  },
  {
    id: 'ikea-poang-chair',
    retailer: 'ikea',
    externalId: '292.408.19',
    name: 'POANG Armchair',
    category: 'chair',
    price: 149,
    currency: 'USD',
    imageUrl: '/furniture/armchair.svg',
    productUrl: 'https://www.ikea.com/us/en/p/poaeng-armchair-birch-veneer-hillared-beige-s29240819/',
    width: 27,
    depth: 32,
    height: 39,
    styles: ['modern', 'contemporary'],
    roomTypes: ['living_room', 'bedroom', 'den'],
    color: '#d4a373',
  },
  {
    id: 'ikea-hektar-lamp',
    retailer: 'ikea',
    externalId: '301.841.73',
    name: 'HEKTAR Floor Lamp',
    category: 'lighting',
    price: 69,
    currency: 'USD',
    imageUrl: '/furniture/floor-lamp.svg',
    productUrl: 'https://www.ikea.com/us/en/p/hektar-floor-lamp-dark-gray-30184173/',
    width: 12,
    depth: 12,
    height: 71,
    styles: ['contemporary', 'modern'],
    roomTypes: ['living_room', 'bedroom', 'office'],
    color: '#4a4a4a',
  },

  // OFFICE
  {
    id: 'ikea-bekant-desk',
    retailer: 'ikea',
    externalId: '291.335.59',
    name: 'BEKANT Desk',
    category: 'desk',
    price: 349,
    currency: 'USD',
    imageUrl: '/furniture/desk.svg',
    productUrl: 'https://www.ikea.com/us/en/p/bekant-desk-white-s29133559/',
    width: 63,
    depth: 31,
    height: 30,
    styles: ['modern', 'minimalist'],
    roomTypes: ['office'],
    color: '#ffffff',
  },
  {
    id: 'ikea-markus-chair',
    retailer: 'ikea',
    externalId: '203.904.22',
    name: 'MARKUS Office Chair',
    category: 'chair',
    price: 249,
    currency: 'USD',
    imageUrl: '/furniture/office-chair.svg',
    productUrl: 'https://www.ikea.com/us/en/p/markus-office-chair-vissle-dark-gray-20390422/',
    width: 24,
    depth: 24,
    height: 52,
    styles: ['modern', 'contemporary'],
    roomTypes: ['office'],
    color: '#4a4a4a',
  },
  {
    id: 'ikea-micke-desk',
    retailer: 'ikea',
    externalId: '204.792.53',
    name: 'MICKE Desk',
    category: 'desk',
    price: 89,
    currency: 'USD',
    imageUrl: '/furniture/small-desk.svg',
    productUrl: 'https://www.ikea.com/us/en/p/micke-desk-white-20479253/',
    width: 41,
    depth: 20,
    height: 30,
    styles: ['modern', 'minimalist'],
    roomTypes: ['bedroom', 'office'],
    color: '#ffffff',
  },

  // ============ WAYFAIR PRODUCTS ============
  {
    id: 'wayfair-sectional',
    retailer: 'wayfair',
    externalId: 'W003246807',
    name: 'Reversible Sectional Sofa',
    category: 'sofa',
    price: 699,
    currency: 'USD',
    imageUrl: '/furniture/sectional.svg',
    productUrl: 'https://www.wayfair.com/furniture/pdp/wade-logan-armina-80-upholstered-sectional-w003246807.html',
    width: 80,
    depth: 60,
    height: 34,
    styles: ['modern', 'contemporary'],
    roomTypes: ['living_room', 'den'],
    color: '#374151',
  },
  {
    id: 'wayfair-platform-bed',
    retailer: 'wayfair',
    externalId: 'W006081142',
    name: 'Upholstered Platform Bed',
    category: 'bed',
    price: 389,
    currency: 'USD',
    imageUrl: '/furniture/platform-bed.svg',
    productUrl: 'https://www.wayfair.com/furniture/pdp/mercury-row-hanson-upholstered-platform-bed-w006081142.html',
    width: 64,
    depth: 86,
    height: 45,
    styles: ['modern', 'contemporary'],
    roomTypes: ['bedroom'],
    color: '#6b7280',
  },
  {
    id: 'wayfair-coffee-table',
    retailer: 'wayfair',
    externalId: 'W001793067',
    name: 'Coffee Table with Storage',
    category: 'table',
    price: 215,
    currency: 'USD',
    imageUrl: '/furniture/storage-coffee.svg',
    productUrl: 'https://www.wayfair.com/furniture/pdp/mercury-row-sled-coffee-table-w001793067.html',
    width: 44,
    depth: 22,
    height: 18,
    styles: ['modern', 'contemporary'],
    roomTypes: ['living_room', 'den'],
    color: '#92400e',
  },
  {
    id: 'wayfair-accent-chair',
    retailer: 'wayfair',
    externalId: 'W002056447',
    name: 'Velvet Accent Chair',
    category: 'chair',
    price: 299,
    currency: 'USD',
    imageUrl: '/furniture/velvet-chair.svg',
    productUrl: 'https://www.wayfair.com/furniture/pdp/mercer41-damarion-velvet-arm-chair-w002056447.html',
    width: 30,
    depth: 32,
    height: 33,
    styles: ['modern', 'contemporary', 'traditional'],
    roomTypes: ['living_room', 'bedroom', 'den'],
    color: '#1e3a5f',
  },
  {
    id: 'wayfair-bookcase',
    retailer: 'wayfair',
    externalId: 'W001321234',
    name: 'Ladder Bookcase',
    category: 'bookshelf',
    price: 159,
    currency: 'USD',
    imageUrl: '/furniture/ladder-shelf.svg',
    productUrl: 'https://www.wayfair.com/furniture/pdp/nathan-james-theo-5-shelf-ladder-bookcase-w001321234.html',
    width: 24,
    depth: 15,
    height: 72,
    styles: ['modern', 'contemporary', 'minimalist'],
    roomTypes: ['office', 'living_room'],
    color: '#d4a373',
  },
  {
    id: 'wayfair-area-rug',
    retailer: 'wayfair',
    externalId: 'W003901245',
    name: 'Geometric Area Rug',
    category: 'rug',
    price: 189,
    currency: 'USD',
    imageUrl: '/furniture/rug.svg',
    productUrl: 'https://www.wayfair.com/rugs/pdp/well-woven-geometric-area-rug-w003901245.html',
    width: 96,
    depth: 120,
    height: 0,
    styles: ['modern', 'contemporary'],
    roomTypes: ['living_room', 'bedroom', 'dining_room'],
    color: '#e5e7eb',
  },

  // ============ AMAZON PRODUCTS ============
  {
    id: 'amazon-platform-bed',
    retailer: 'amazon',
    externalId: 'B08L3X8KYH',
    name: 'Zinus Platform Bed Frame',
    category: 'bed',
    price: 189,
    currency: 'USD',
    imageUrl: '/furniture/zinus-bed.svg',
    productUrl: 'https://www.amazon.com/dp/B08L3X8KYH',
    width: 60,
    depth: 80,
    height: 14,
    styles: ['modern', 'minimalist'],
    roomTypes: ['bedroom'],
    color: '#4a4a4a',
  },
  {
    id: 'amazon-nightstand',
    retailer: 'amazon',
    externalId: 'B07Q7PMBXD',
    name: 'Nathan James Nightstand',
    category: 'nightstand',
    price: 89,
    currency: 'USD',
    imageUrl: '/furniture/modern-nightstand.svg',
    productUrl: 'https://www.amazon.com/dp/B07Q7PMBXD',
    width: 16,
    depth: 14,
    height: 20,
    styles: ['modern', 'minimalist'],
    roomTypes: ['bedroom'],
    color: '#d4a373',
  },
  {
    id: 'amazon-sofa',
    retailer: 'amazon',
    externalId: 'B0BVWLZ1J8',
    name: 'Rivet Revolve Modern Sofa',
    category: 'sofa',
    price: 1199,
    currency: 'USD',
    imageUrl: '/furniture/modern-sofa.svg',
    productUrl: 'https://www.amazon.com/dp/B0BVWLZ1J8',
    width: 80,
    depth: 34,
    height: 33,
    styles: ['modern', 'contemporary'],
    roomTypes: ['living_room', 'den'],
    color: '#78716c',
  },
  {
    id: 'amazon-desk-chair',
    retailer: 'amazon',
    externalId: 'B09WMXQZX2',
    name: 'Ergonomic Office Chair',
    category: 'chair',
    price: 159,
    currency: 'USD',
    imageUrl: '/furniture/ergo-chair.svg',
    productUrl: 'https://www.amazon.com/dp/B09WMXQZX2',
    width: 24,
    depth: 24,
    height: 34,
    styles: ['modern', 'contemporary'],
    roomTypes: ['bedroom', 'office'],
    color: '#1f2937',
  },
  {
    id: 'amazon-standing-desk',
    retailer: 'amazon',
    externalId: 'B08CB4Y3L5',
    name: 'Electric Standing Desk',
    category: 'desk',
    price: 399,
    currency: 'USD',
    imageUrl: '/furniture/standing-desk.svg',
    productUrl: 'https://www.amazon.com/dp/B08CB4Y3L5',
    width: 55,
    depth: 28,
    height: 48,
    styles: ['modern', 'minimalist'],
    roomTypes: ['office'],
    color: '#ffffff',
  },
  {
    id: 'amazon-bookcase',
    retailer: 'amazon',
    externalId: 'B07F66KMG5',
    name: 'Nathan James Theo Bookcase',
    category: 'bookshelf',
    price: 119,
    currency: 'USD',
    imageUrl: '/furniture/theo-shelf.svg',
    productUrl: 'https://www.amazon.com/dp/B07F66KMG5',
    width: 24,
    depth: 12,
    height: 72,
    styles: ['modern', 'contemporary'],
    roomTypes: ['office', 'living_room'],
    color: '#d4a373',
  },
  {
    id: 'amazon-floor-lamp',
    retailer: 'amazon',
    externalId: 'B07GVBTRLK',
    name: 'Brightech Arc Floor Lamp',
    category: 'lighting',
    price: 89,
    currency: 'USD',
    imageUrl: '/furniture/arc-lamp.svg',
    productUrl: 'https://www.amazon.com/dp/B07GVBTRLK',
    width: 15,
    depth: 15,
    height: 69,
    styles: ['modern', 'contemporary', 'minimalist'],
    roomTypes: ['living_room', 'bedroom'],
    color: '#fbbf24',
  },
  {
    id: 'amazon-area-rug',
    retailer: 'amazon',
    externalId: 'B07KX1WQZH',
    name: 'Safavieh Modern Rug',
    category: 'rug',
    price: 139,
    currency: 'USD',
    imageUrl: '/furniture/safavieh-rug.svg',
    productUrl: 'https://www.amazon.com/dp/B07KX1WQZH',
    width: 60,
    depth: 96,
    height: 0,
    styles: ['contemporary', 'modern'],
    roomTypes: ['bedroom', 'living_room'],
    color: '#d1d5db',
  },
  {
    id: 'amazon-tv-stand',
    retailer: 'amazon',
    externalId: 'B08LMZW4ZP',
    name: 'Walker Edison TV Stand',
    category: 'storage',
    price: 198,
    currency: 'USD',
    imageUrl: '/furniture/walker-tv.svg',
    productUrl: 'https://www.amazon.com/dp/B08LMZW4ZP',
    width: 58,
    depth: 16,
    height: 24,
    styles: ['modern', 'contemporary'],
    roomTypes: ['living_room', 'den'],
    color: '#78350f',
  },

  // ============ DINING ROOM ============
  {
    id: 'ikea-dining-table',
    retailer: 'ikea',
    externalId: '893.117.73',
    name: 'LISABO Dining Table',
    category: 'table',
    price: 249,
    currency: 'USD',
    imageUrl: '/furniture/dining-table.svg',
    productUrl: 'https://www.ikea.com/us/en/p/lisabo-table-ash-veneer-80324296/',
    width: 55,
    depth: 30,
    height: 29,
    styles: ['contemporary', 'modern', 'minimalist'],
    roomTypes: ['dining_room', 'kitchen'],
    color: '#d4a373',
  },
  {
    id: 'ikea-dining-chair',
    retailer: 'ikea',
    externalId: '003.608.77',
    name: 'ODGER Chair',
    category: 'chair',
    price: 99,
    currency: 'USD',
    imageUrl: '/furniture/dining-chair.svg',
    productUrl: 'https://www.ikea.com/us/en/p/odger-chair-white-beige-00360877/',
    width: 18,
    depth: 20,
    height: 32,
    styles: ['contemporary', 'modern', 'minimalist'],
    roomTypes: ['dining_room', 'kitchen'],
    color: '#f5f5f4',
  },
  {
    id: 'wayfair-dining-set',
    retailer: 'wayfair',
    externalId: 'W004567890',
    name: '5-Piece Dining Set',
    category: 'table',
    price: 449,
    currency: 'USD',
    imageUrl: '/furniture/dining-set.svg',
    productUrl: 'https://www.wayfair.com/furniture/pdp/dining-set-w004567890.html',
    width: 48,
    depth: 30,
    height: 30,
    styles: ['contemporary', 'traditional'],
    roomTypes: ['dining_room'],
    color: '#78350f',
  },
];

// Get products filtered by room type, style, and budget
export function getRecommendedProducts(
  roomType: string,
  style: string,
  maxBudget: number
): Product[] {
  return sampleProducts.filter((product) => {
    const matchesRoom = product.roomTypes.includes(roomType as any);
    const matchesStyle = product.styles.includes(style as any);
    const withinBudget = maxBudget === 0 || product.price <= maxBudget;
    return matchesRoom && matchesStyle && withinBudget;
  });
}

// Get alternative products for a given product
export function getAlternatives(
  currentProduct: Product,
  maxBudget: number
): Product[] {
  return sampleProducts.filter((product) => {
    const sameCategory = product.category === currentProduct.category;
    const differentProduct = product.id !== currentProduct.id;
    const withinBudget = maxBudget === 0 || product.price <= maxBudget;
    return sameCategory && differentProduct && withinBudget;
  });
}

// Get products by category
export function getProductsByCategory(
  category: string,
  style?: string,
  maxBudget?: number
): Product[] {
  return sampleProducts.filter((product) => {
    const matchesCategory = product.category === category;
    const matchesStyle = !style || product.styles.includes(style as any);
    const withinBudget = !maxBudget || maxBudget === 0 || product.price <= maxBudget;
    return matchesCategory && matchesStyle && withinBudget;
  });
}
